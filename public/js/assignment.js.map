{"version":3,"sources":["assignment.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"assignment.js","sourcesContent":["jQuery(document).ready(function($){\n\n    // Set headers for AJAX\n    $.ajaxSetup({\n        headers: {\n            'X-CSRF-TOKEN': $('meta[name=\"csrf_token\"]').attr('content')\n        }\n    });\n\n    // Check for questions that are already answered\n    $('.question').each(function(){\n        if ($(this).is(':checked'))\n            $(this).parent('.btn').addClass('active');\n    });\n\n    // Save Answer\n    $('.question').on('change', function(e){\n        e.preventDefault();\n\n        var id = $(this).attr('id');\n        var value = $(this).val();\n\n        var data = {\n            'complete': 0,\n            'question_id': id,\n            'value': value\n        };\n\n        var url = window.location.pathname;\n\n        console.log('id: '+id);\n        console.log(url);\n        console.log(data);\n\n        $.ajax({\n            type: 'post',\n            url: url,\n            data: data,\n            dataType: 'json',\n            success: function(data) {\n                console.log(data);\n                //var opts = {\n                //    \"closeButton\": true,\n                //    \"debug\": false,\n                //    \"positionClass\": \"toast-top-right\",\n                //    \"onclick\": null,\n                //    \"showDuration\": \"300\",\n                //    \"hideDuration\": \"1000\",\n                //    \"timeOut\": \"5000\",\n                //    \"extendedTimeOut\": \"1000\",\n                //    \"showEasing\": \"swing\",\n                //    \"hideEasing\": \"linear\",\n                //    \"showMethod\": \"fadeIn\",\n                //    \"hideMethod\": \"fadeOut\"\n                //};\n                //toastr.success(\"Asnwer recorded successfully.\", \"Success\", opts);\n            },\n            error: function(data) {\n\n                var errors = data.responseJSON;\n\n                for (var i in errors)\n                {\n                    if (! errors.hasOwnProperty(i)) continue;\n\n                    var opts = {\n                        \"closeButton\": true,\n                        \"debug\": false,\n                        \"positionClass\": \"toast-top-right\",\n                        \"onclick\": null,\n                        \"showDuration\": \"300\",\n                        \"hideDuration\": \"1000\",\n                        \"timeOut\": \"5000\",\n                        \"extendedTimeOut\": \"1000\",\n                        \"showEasing\": \"swing\",\n                        \"hideEasing\": \"linear\",\n                        \"showMethod\": \"fadeIn\",\n                        \"hideMethod\": \"fadeOut\"\n                    };\n\n                    toastr.error(errors[i], \"Error\", opts);\n                }\n            }\n        });\n    });\n\n    // Complete Assessment\n    $('#complete').on('click', function(e){\n        e.preventDefault();\n\n        var data = {\n            'complete': 1\n        };\n\n        var url = window.location.pathname;\n\n        console.log(url);\n        console.log(data);\n\n        $(this).attr('disabled', 'disabled').html('Submitting.. <i class=\"fa-spinner fa-spin\"></i>');\n\n        $.ajax({\n            type: 'post',\n            url: url,\n            data: data,\n            dataType: 'json',\n            success: function(data) {\n                console.log(data);\n                //var opts = {\n                //    \"closeButton\": true,\n                //    \"debug\": false,\n                //    \"positionClass\": \"toast-top-right\",\n                //    \"onclick\": null,\n                //    \"showDuration\": \"300\",\n                //    \"hideDuration\": \"1000\",\n                //    \"timeOut\": \"5000\",\n                //    \"extendedTimeOut\": \"1000\",\n                //    \"showEasing\": \"swing\",\n                //    \"hideEasing\": \"linear\",\n                //    \"showMethod\": \"fadeIn\",\n                //    \"hideMethod\": \"fadeOut\"\n                //};\n                //toastr.success(\"Asnwer recorded successfully.\", \"Success\", opts);\n                if (data['reload']) {\n                    window.location.reload();\n                }\n            },\n            error: function(data) {\n                console.log(data.status+' '+data.statusText);\n                $('html').prepend(data.responseText);\n\n                //var errors = data.responseJSON;\n                //\n                //for (var i in errors)\n                //{\n                //    if (! errors.hasOwnProperty(i)) continue;\n                //\n                //    var opts = {\n                //        \"closeButton\": true,\n                //        \"debug\": false,\n                //        \"positionClass\": \"toast-top-right\",\n                //        \"onclick\": null,\n                //        \"showDuration\": \"300\",\n                //        \"hideDuration\": \"1000\",\n                //        \"timeOut\": \"5000\",\n                //        \"extendedTimeOut\": \"1000\",\n                //        \"showEasing\": \"swing\",\n                //        \"hideEasing\": \"linear\",\n                //        \"showMethod\": \"fadeIn\",\n                //        \"hideMethod\": \"fadeOut\"\n                //    };\n                //\n                //    toastr.error(errors[i], \"Error\", opts);\n                //}\n            }\n        });\n    });\n});\n\n$.fn.serializeObject = function()\n{\n    var o = {};\n    var a = this.serializeArray();\n    $.each(a, function() {\n        if (o[this.name] !== undefined) {\n            if (!o[this.name].push) {\n                o[this.name] = [o[this.name]];\n            }\n            o[this.name].push(this.value || '');\n        } else {\n            o[this.name] = this.value || '';\n        }\n    });\n    return o;\n};\n"],"sourceRoot":"/source/"}